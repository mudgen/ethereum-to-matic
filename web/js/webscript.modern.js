function e(e){const[t,...r]=e,n=[];for(const[e,i]of t.entries()){""!==i&&n.push(i);let t=r[e];void 0!==t&&n.push(t)}return n}let t=new RegExp("·","g");const r=(e,t)=>(e.__webscript_enhancer=t,e);function n(r,n){return function i(o,c){let l=new Proxy(()=>{},{apply(t,i,c){if("function"==typeof t.__webscript_enhancer){let e=t.__webscript_enhancer;delete t.__webscript_enhancer;let r=e(l,c);return t.__webscript_enhancer=e,r}let[u]=c;Array.isArray(u)&&Object.isFrozen(u)&&(c=e(c)),Array.isArray(o.children)&&(o.children.push(...c),c=o.children,delete o.children);for(let e=0;e<c.length;e++){let t=c[e];"function"==typeof t&&!0===t.__is_webscript_element&&(c[e]=t())}return r(n,o,...c)},get(r,n){if("string"==typeof n){if("__is_webscript_element"===n)return!0;if("__webscript_enhancer"===n)return r[n];function l(...t){let[r]=t;if(void 0===r){if("props"===c&&"[object Object]"===Object.prototype.toString.call(r))return i({},null);let e={...o};return delete e[c],i(e,null)}if(Array.isArray(r)&&Object.isFrozen(r))r=e(t).join("");else if(t.length>1)r=t;else if("props"===c&&"[object Object]"===Object.prototype.toString.call(r))return i({...o,...r},null);return i({...o,[c]:r},null)}return-1!==n.indexOf("·")&&(n=n.replace(t,"-")),l.value="props"===n?o:o[n],c=n,l}}});return l}({},null)}export default function(e,t=[]){if("function"!=typeof e)throw Error("elementConstructor argument must be present and it must be a function.");if(t.length>0){let r=[];for(const i of t)r.push(n(e,i));return r}return new Proxy(()=>{},{get(t,r){const i=t[r];return void 0!==i?i:(t[r]=n(e,r),t[r])}})}export{r as enhanceBuilder};
//# sourceMappingURL=webscript.modern.js.map
